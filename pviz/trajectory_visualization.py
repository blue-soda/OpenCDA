# -*- coding: utf-8 -*-

"""Visualize the trajectory generated by different method
"""
# Author: Runsheng Xu <rxx3386@ucla.edu>
# License: MIT

import math
import numpy as np
import matplotlib.pyplot as plt

from core.agents.navigation.path_optimizer import PathOptimizer


def draw_trajecotry(x_coords, y_coords, yaw):
    """
    Draw 2d trajectory path
    :param x_coords: a list of the x coordinates
    :param y_coords: a list of the y coordinates
    :param yaw:  the yaw angle in rads
    :return:
    """
    # convert the yaw angle to tan
    x_direction = [0.001] * len(yaw)
    y_direction = [0.001 * math.tan(x) for x in yaw]

    # append origin point
    x_coords = np.insert(x_coords, 0, 0.0)
    y_coords = np.insert(y_coords, 0, 0.0)

    fig, ax = plt.subplots()
    ax.quiver(x_coords, y_coords, x_direction, y_direction)

    plt.show()


if __name__ == '__main__':
    path_otimizer = PathOptimizer()
    interpolation_points = path_otimizer.optimize_spiral(10, 10, 0)
    draw_trajecotry(interpolation_points[0], interpolation_points[1], interpolation_points[2])
